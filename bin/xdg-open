#!/usr/bin/env bash
# xdg-open.bash --- shadow xdg-open, only redirect urls to it

# bash strict mode
set -euo pipefail
IFS=$'\n\t'

. $MYLIB/fns.sh

case $1 in
    file://*)
        say open $1 with run-mailcap...
        echo "$1" | sed s,file://,, | xargs run-mailcap
        ;;
    *://*)
        say open $1 with /usr/bin/xdg-open...
        /usr/bin/xdg-open $@
        ;;
    *)
        say open $1 with run-mailcap...
        run-mailcap $@
        ;;
esac
