#!/bin/sh
# xsessionrc --- x session environment -*- shell-script -*-

export XERRORS_FILE="$HOME/.xerrors"

exec 2>&1 > $XERRORS_FILE

. $HOME/.profile

# Inform systemd
if [ -z "$GUIX_PROFILE" ]; then
    systemctl --user import-environment DISPLAY
    systemctl --user import-environment DESKTOP_SESSION

    # Ensure correct user dirs configuration
    xdg-user-dirs-update
fi


### X resources:
xrdb -merge $MEINE/Xdefaults

### Input:
#### Keyboard:
setxkbmap -option "ctrl:nocaps"

### System specific desktop setup:

if [ -e "$MYSYSTEM/desktop-setup.bash" ]; then
    bash $MYSYSTEM/desktop-setup.bash 2>&1 >> $XERRORS_FILE
fi
